<section>
   <!-- <h4>Chips inside of a Reactive form</h4> -->
   <mat-form-field class="example-form-field">
      <mat-label>Recipe ingredients</mat-label>
      <mat-chip-grid
         #reactiveChipGrid
         aria-label="Enter reactive form keywords"
         [formControl]="formControl"
      >
         @for (ingredient of ingredients$ | async; track ingredient) {
         <mat-chip-row (removed)="deleteIngredient(ingredient.id)">
            {{ ingredient.text | titlecase }}
            <button matChipRemove aria-label="'remove reactive form' + keyword">
               <mat-icon>cancel</mat-icon>
            </button>
         </mat-chip-row>
         }
      </mat-chip-grid>
      <input
         autoFocus
         placeholder="New ingredient..."
         [matChipInputFor]="reactiveChipGrid"
         (matChipInputTokenEnd)="handleUserInput()"
         [(ngModel)]="ingredientInput"
      />
   </mat-form-field>

   <div class="preferences-container" *ngIf="(ingredients$ | async).length">
      <button mat-stroked-button [matMenuTriggerFor]="menu">
         {{ dietOutput | titlecase }}
         <mat-icon iconPositionEnd>keyboard_arrow_down</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
         <button mat-menu-item (click)="selectDietType(DietType.ALL)">
            {{ DietType.ALL | titlecase }}
         </button>
         <button mat-menu-item (click)="selectDietType(DietType.VEGETARIAN)">
            {{ DietType.VEGETARIAN | titlecase }}
         </button>
         <button mat-menu-item (click)="selectDietType(DietType.VEGAN)">
            {{ DietType.VEGAN | titlecase }}
         </button>
         <button mat-menu-item (click)="selectDietType(DietType.PALEO)">
            {{ DietType.PALEO | titlecase }}
         </button>
         <button mat-menu-item (click)="selectDietType(DietType.KETOGENIC)">
            {{ DietType.KETOGENIC | titlecase }}
         </button>
      </mat-menu>
   </div>
</section>
